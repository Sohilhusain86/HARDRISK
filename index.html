<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="اسلامی کتابیں، نعت، تقریریں، اور دینی معلومات کی جامع ویب سائٹ" />
  <meta name="keywords" content="اسلامی کتابیں، نعت، تقریریں، دینی معلومات، PDF ڈاؤن لوڈ" />
  <meta name="author" content="Suhail Husain" />
  <meta name="theme-color" content="#27ae60" />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu&display=swap" rel="stylesheet" />
  <title>اسلامی کتابیں - شاندار لائبریری</title>

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: "Noto Nastaliq Urdu", "Segoe UI", sans-serif;
      background: linear-gradient(135deg, #f6fff8, #e0e7ff);
      color: #226422;
      min-height: 100vh;
      line-height: 1.8;
      overflow-x: hidden;
      transition: background 0.5s, color 0.5s;
      direction: rtl;
      text-align: right;
    }
    .light-mode { background: #fff; color: #333; }
    nav.navbar {
      background: #27ae60;
      color: #fff;
      padding: 10px;
      position: sticky;
      top: 0;
      z-index: 1000;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    nav.navbar a {
      color: #fff;
      text-decoration: none;
      margin: 0 15px;
      font-size: 1.1em;
      transition: color 0.3s;
    }
    nav.navbar a:hover {
      color: #e74c3c;
    }
    .header {
      background: rgba(255,255,255,0.9);
      padding: 20px;
      margin: 10px;
      border-radius: 10px;
    }
    .header h1 {
      font-size: 2em;
      margin-bottom: 10px;
    }
    .header p {
      font-size: 1.1em;
    }
    .search-bar {
      width: 90%;
      max-width: 400px;
      padding: 10px;
      margin: 15px auto;
      border-radius: 20px;
      border: 1px solid #27ae60;
      font-size: 1em;
      color: #226422;
      background: #fff;
      display: block;
      text-align: right;
    }
    .filter-section {
      text-align: center;
      margin: 10px 0 30px 0;
    }
    .filter-section select {
      padding: 10px;
      border-radius: 10px;
      border: 1px solid #27ae60;
      font-size: 1em;
      color: #226422;
      background: #fff;
      min-width: 150px;
    }
    .books-section {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
      max-width: 1200px;
      margin: auto;
      padding-bottom: 50px;
    }
    .book-card {
      width: 280px;
      background: #f3f4f6;
      border: 2px solid #c1e1c1;
      border-radius: 10px;
      padding: 15px;
      text-align: right;
      box-shadow: 0 2px 8px #e0e7ff;
      transition: transform 0.3s;
    }
    .book-card:hover {
      transform: translateY(-5px);
    }
    .book-title {
      font-size: 1.2em;
      color: #27ae60;
      margin-bottom: 10px;
    }
    .book-desc {
      font-size: 0.95em;
      color: #226422;
      opacity: 0.9;
    }
    .download-btn {
      background: #27ae60;
      color: #fff;
      padding: 8px 15px;
      border-radius: 20px;
      border: none;
      margin-top: 15px;
      cursor: pointer;
      font-size: 1em;
      transition: background 0.3s;
      display: inline-block;
      text-align: center;
    }
    .download-btn:hover {
      background: #e74c3c;
    }
    /* Audio Section */
    .audio-section {
      background: rgba(255,255,255,0.9);
      margin: 15px auto;
      padding: 20px;
      border-radius: 10px;
      max-width: 400px;
      text-align: center;
      color: #226422;
    }
    .audio-item {
      margin-bottom: 20px;
    }
    .audio-item audio {
      width: 100%;
      border-radius: 10px;
      background: #fff;
    }
    .audio-item p {
      margin-top: 8px;
      font-size: 1em;
      color: #226422;
    }
    /* Responsive */
    @media (max-width: 700px) {
      .book-card {
        width: 95%;
      }
      .header h1 {
        font-size: 1.8em;
      }
      .header p {
        font-size: 1em;
      }
      .search-bar {
        width: 95%;
      }
    }
  </style>
</head>
<body>
  <nav class="navbar">
    <div>
      <a href="#home">ہوم</a>
      <a href="#books">کتابیں</a>
      <a href="#audio">نعت</a>
      <a href="#request">درخواست</a>
      <a href="#faq">سوالات</a>
      <a href="#" onclick="showAboutUs()">ہمارے بارے میں</a>
    </div>
  </nav>

  <header class="header" id="home">
    <h1>اسلامی کتابیں ڈاؤن لوڈ کریں</h1>
    <p>شاندار اسلامی کتابیں جو آپ کی روحانی ترقی میں مددگار ہیں</p>
    <input type="text" class="search-bar" placeholder="کتاب تلاش کریں..." onkeyup="searchBooks()" aria-label="کتاب تلاش کریں" />
    <div class="filter-section">
      <label for="categorySelect">زمرہ جات:</label>
      <select id="categorySelect" onchange="filterBooks(this.value)">
        <option value="all">تمام</option>
        <option value="taqreer">تقریریں</option>
        <option value="akhlaq">اخلاق و آداب</option>
        <option value="naat">نعت</option>
        <option value="quran">قرآنی تفسیر</option>
        <option value="other">دیگر</option>
      </select>
    </div>
  </header>

  <section class="books-section" id="books">
    <!-- Books will be dynamically inserted here -->
  </section>

  <section class="audio-section" id="audio">
    <h2>عید میلاد النبی کی خوبصورت نعت</h2>
    <div class="audio-item">
      <audio id="naatAudio1" preload="metadata" controls aria-label="کوئی گل باقی رہے گا">
        <source src="https://github.com/Sohilhusain86/HARDRISK/raw/main/Koi%20Gul%20Baqi%20Rahega%20%5BSlowed%20_%20Reverb%5D%20Beautiful%20Naat%20__%20_lofinaatscreation(MP3_320K).mp3" type="audio/mpeg" />
        آپ کا براؤزر آڈیو سپورٹ نہیں کرتا۔
      </audio>
      <p>نعت: کوئی گل باقی رہے گا</p>
    </div>
    <div class="audio-item">
      <audio id="naatAudio2" preload="metadata" controls aria-label="کلمات ممتاز قادری">
        <source src="https://github.com/Sohilhusain86/HARDRISK/raw/main/Kalam%20Mumtaz%20Qadri%20.%20Full%20janaza%20HD%20video(MP3_320K).mp3" type="audio/mpeg" />
        آپ کا براؤزر آڈیو سپورٹ نہیں کرتا۔
      </audio>
      <p>نعت: کلمات ممتاز قادری</p>
    </div>
    <div class="audio-item">
      <audio id="naatAudio3" preload="metadata" controls aria-label="ہو کرم سرکار اب تو">
        <source src="https://github.com/Sohilhusain86/HARDRISK/raw/main/Ho%20Karam%20Sarkar%20Abto%20Owais%20Raza%20Qadri%202019(MP3_160K).mp3" type="audio/mpeg" />
        آپ کا براؤزر آڈیو سپورٹ نہیں کرتا۔
      </audio>
      <p>نعت: ہو کرم سرکار اب تو</p>
    </div>
    <div class="audio-item">
      <audio id="naatAudio4" preload="metadata" controls aria-label="پہنچو در سرکار">
        <source src="https://github.com/Sohilhusain86/HARDRISK/raw/main/pohchu%20dare%20sarkar_sabir%20raza%20azhari%20manqabat%20in%20Surat_shorts_video_(MP3_160K).mp3" type="audio/mpeg" />
        آپ کا براؤزر آڈیو سپورٹ نہیں کرتا۔
      </audio>
      <p>نعت: پہنچو در سرکار</p>
    </div>
    <p id="audioStatus" style="color: #226422; margin-top: 20px;"></p>
  </section>

  <script>
    const booksData = [
      {
        id: "kamalat-mustafa",
        title: "کمالاتِ مصطفیٰ",
        description: "یہ کتاب احمد رضا رضوی کی درخواست پر پیش کی گئی ہے۔ یہ رسول اللہ صلی اللہ علیہ وسلم کی عظمت کو بیان کرتی ہے۔",
        category: "naat",
        pdf: "Kamalat e Mustafa.pdf",
        special: true
      },
      // Add all other books similarly here as per your data
      {
        id: "barah-taqreerein",
        title: "بارہ تقریریں",
        description: "اصلاحی و علمی موضوعات پر بارہ اہم تقریریں جو دینی تعلیمات کو سمجھنے میں مدد دیتی ہیں۔",
        category: "taqreer",
        pdf: "بارہ تقریریں.pdf",
        special: false
      }
      // and so on...
    ];

    // Dynamically render book cards
    const booksSection = document.getElementById("books");
    function renderBooks(filteredBooks = booksData) {
      booksSection.innerHTML = "";
      filteredBooks.forEach(book => {
        const card = document.createElement("div");
        card.className = "book-card" + (book.special ? " special-book-card" : "");
        card.dataset.category = book.category;

        card.innerHTML = `
          <div class="book-title">${book.title}</div>
          <div class="book-desc">${book.description}</div>
          ${book.special ? '<div class="request-note">خصوصی طور پر احمد رضا رضوی کی درخواست پر اپلوڈ کی گئی۔</div>' : ''}
          <button class="download-btn" onclick="window.open('${book.pdf}', '_blank')">ڈاؤن لوڈ PDF</button>
        `;
        booksSection.appendChild(card);
      });
    }
    renderBooks();

    // Search and Filter
    function searchBooks() {
      const q = document.querySelector(".search-bar").value.toLowerCase();
      const filtered = booksData.filter(b => b.title.toLowerCase().includes(q));
      renderBooks(filtered);
    }
    function filterBooks(category) {
      if (category === "all") {
        renderBooks();
      } else {
        const filtered = booksData.filter(b => b.category === category);
        renderBooks(filtered);
      }
    }

    // Naat playback logic
    const naatsArr = [
      { id: "naatAudio1", title: "کوئی گل باقی رہے گا" },
      { id: "naatAudio2", title: "کلمات ممتاز قادری" },
      { id: "naatAudio3", title: "ہو کرم سرکار اب تو" },
      { id: "naatAudio4", title: "پہنچو در سرکار" }
    ];
    let audioStarted = false;
    let currentAudio = null;
    let naatInterval = null;

    function pauseAllNaats() {
      naatsArr.forEach(naat => {
        const audio = document.getElementById(naat.id);
        if (audio) {
          audio.pause();
          audio.currentTime = 0;
        }
      });
      currentAudio = null;
      const status = document.getElementById("audioStatus");
      if (status) status.textContent = "";
    }

    function playRandomNaat() {
      pauseAllNaats();
      const randomIndex = Math.floor(Math.random() * naatsArr.length);
      const selected = naatsArr[randomIndex];
      const audio = document.getElementById(selected.id);
      currentAudio = audio;

      function randomSeekAndPlay() {
        let duration = audio.duration || 120;
        let min = 2;
        let max = Math.max(duration - 60, min + 1);
        let seekTo = Math.random() * (max - min) + min;
        audio.currentTime = seekTo;
        audio.volume = 0.5;
        audio.play().catch(() => {});
        const status = document.getElementById("audioStatus");
        if (status) status.textContent = `عید میلاد النبی کی نعت چل رہی ہے: ${selected.title}`;
      }

      if (audio.readyState > 0) {
        randomSeekAndPlay();
      } else {
        audio.addEventListener("loadedmetadata", function handler() {
          audio.removeEventListener("loadedmetadata", handler);
          randomSeekAndPlay();
        });
        audio.load();
      }
    }

    function startNaatOnce() {
      if (!audioStarted) {
        audioStarted = true;
        playRandomNaat();
        naatInterval = setInterval(playRandomNaat, 120000);
      }
    }

    document.addEventListener("scroll", startNaatOnce, { once: true });
    document.addEventListener("click", startNaatOnce, { once: true });

    function pauseNaatOnLeave() {
      pauseAllNaats();
    }

    window.addEventListener("beforeunload", pauseNaatOnLeave);
    document.addEventListener("visibilitychange", () => {
      if (document.hidden) {
        pauseNaatOnLeave();
      }
    });

    document.addEventListener("DOMContentLoaded", () => {
      naatsArr.forEach(n => {
        const a = document.getElementById(n.id);
        if (a) a.load();
      });
    });

    // About Us Modal (Optional)
    function showAboutUs() {
      alert("یہ ویب سائٹ سہیل حسین کی مہنت اور لگن کا نتیجہ ہے جو اسلامی مواد کو سب تک پہنچانا چاہتا ہے۔");
    }
  </script>
</body>
</html>
